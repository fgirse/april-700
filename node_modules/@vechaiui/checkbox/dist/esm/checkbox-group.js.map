{"version":3,"sources":["../../src/checkbox-group.tsx"],"names":["useId","cx","getValidChildren","__DEV__","React","cloneElement","useRef","useState","CheckboxGroup","forwardRef","props","ref","onChange","name","color","size","defaultValue","inline","value","valueProp","children","rest","values","setValues","current","isControlled","_values","_onChange","event","checked","target","newValues","filter","val","fallbackName","_name","validChildren","clones","map","child","index","className","includes","displayName"],"mappings":";;;;;;AAAA,SAASA,KAAT,QAAsB,gBAAtB;AAEA,SAASC,EAAT,EAAaC,gBAAb,EAA+BC,OAA/B,QAA8C,iBAA9C;AACA,OAAO,KAAKC,KAAZ,MAAuB,OAAvB;AACA,SAASC,YAAT,EAAuBC,MAAvB,EAA+BC,QAA/B,QAA+C,OAA/C;AAuCA,OAAO,IAAMC,aAAa,gBAAGJ,KAAK,CAACK,UAAN,CAC3B,CAACC,KAAD,EAAQC,GAAR,KAAgB;AACd,MAAM;AACJC,IAAAA,QADI;AAEJC,IAAAA,IAFI;AAGJC,IAAAA,KAHI;AAIJC,IAAAA,IAJI;AAKJC,IAAAA,YALI;AAMJC,IAAAA,MANI;AAOJC,IAAAA,KAAK,EAAEC,SAPH;AAQJC,IAAAA;AARI,MAUFV,KAVJ;AAAA,MASKW,IATL,iCAUIX,KAVJ;;AAWA,MAAM,CAACY,MAAD,EAASC,SAAT,IAAsBhB,QAAQ,CAACS,YAAY,IAAI,EAAjB,CAApC;AAEA,MAAM;AAAEQ,IAAAA,OAAO,EAAEC;AAAX,MAA4BnB,MAAM,CAACa,SAAS,IAAI,IAAd,CAAxC;;AACA,MAAMO,OAAO,GAAGD,YAAY,GAAGN,SAAH,GAAeG,MAA3C;;AAEA,MAAMK,SAAS,GAAIC,KAAD,IAAgD;AAChE,QAAM;AAAEC,MAAAA,OAAF;AAAWX,MAAAA;AAAX,QAAqBU,KAAK,CAACE,MAAjC;AACA,QAAIC,SAAJ;;AACA,QAAIF,OAAJ,EAAa;AACXE,MAAAA,SAAS,GAAG,CAAC,IAAIL,OAAO,IAAI,EAAf,CAAD,EAAqBR,KAArB,CAAZ;AACD,KAFD,MAEO;AACLa,MAAAA,SAAS,GAAG,CAACL,OAAO,IAAI,EAAZ,EAAgBM,MAAhB,CAAwBC,GAAD,IAASA,GAAG,KAAKf,KAAxC,CAAZ;AACD;;AAED,KAACO,YAAD,IAAiBF,SAAS,CAACQ,SAAD,CAA1B;AACAnB,IAAAA,QAAQ,IAAIA,QAAQ,CAACmB,SAAD,CAApB;AACD,GAXD,CAjBc,CA8Bd;;;AACA,MAAMG,YAAY,iBAAelC,KAAK,EAAtC;;AACA,MAAMmC,KAAK,GAAGtB,IAAI,IAAIqB,YAAtB;;AAEA,MAAME,aAAa,GAAGlC,gBAAgB,CAACkB,QAAD,CAAtC;AAEA,MAAMiB,MAAM,GAAGD,aAAa,CAACE,GAAd,CAAkB,CAACC,KAAD,EAAQC,KAAR,KAAkB;AACjD,wBACE;AACE,MAAA,GAAG,EAAEA,KADP;AAEE,MAAA,SAAS,EAAEvC,EAAE,CACXgB,MAAM,GAAG,cAAH,GAAoB,OADf,EAEXsB,KAAK,CAAC7B,KAAN,CAAY+B,SAFD;AAFf,oBAOGpC,YAAY,CAACkC,KAAD,EAAQ;AACnBxB,MAAAA,IAAI,EAAEA,IADa;AAEnBD,MAAAA,KAAK,EAAEyB,KAAK,CAAC7B,KAAN,CAAYI,KAAZ,IAAqBA,KAFT;AAGnBD,MAAAA,IAAI,EAAKsB,KAAL,SAAcK,KAHC;AAInB5B,MAAAA,QAAQ,EAAEe,SAJS;AAKnBE,MAAAA,OAAO,EAAE,CAACH,OAAO,IAAI,EAAZ,EAAgBgB,QAAhB,CAAyBH,KAAK,CAAC7B,KAAN,CAAYQ,KAArC;AALU,KAAR,CAPf,CADF;AAiBD,GAlBc,CAAf;AAoBA,sBACE;AAAK,IAAA,IAAI,EAAC,OAAV;AAAkB,IAAA,GAAG,EAAEP;AAAvB,KAAgCU,IAAhC,GACGgB,MADH,CADF;AAKD,CA9D0B,CAAtB;;AAiEP,IAAIlC,OAAJ,EAAa;AACXK,EAAAA,aAAa,CAACmC,WAAd,GAA4B,eAA5B;AACD","sourcesContent":["import { useId } from \"@reach/auto-id\";\nimport { DefaultProps } from \"@vechaiui/theme\";\nimport { cx, getValidChildren, __DEV__ } from \"@vechaiui/utils\";\nimport * as React from \"react\";\nimport { cloneElement, useRef, useState } from \"react\";\n\nimport { CheckboxProps } from \"./checkbox\";\n\nexport interface CheckboxGroupProps extends DefaultProps {\n  /**\n   * The id of the checkbox group.\n   */\n  id?: CheckboxProps[\"id\"];\n  /**\n   * The name of the checkbox group. This prop is passed to each checbox\n   */\n  name?: CheckboxProps[\"name\"];\n  /**\n   * The content of the checkbox group. Must be the `Checkbox` component\n   */\n  children?: React.ReactNode;\n  /**\n   * The initial value of the checkbox group\n   */\n  defaultValue?: Array<CheckboxProps[\"value\"]>;\n  /**\n   * The value of the checkbox group\n   */\n  value?: Array<CheckboxProps[\"value\"]>;\n  /**\n   * The callback fired when any children Checkbox is checked or unchecked\n   */\n  onChange?: (value: Array<CheckboxProps[\"value\"]>) => void;\n  /**\n   * If `true`, the checkboxes will aligned horizontally.\n   */\n  inline?: boolean;\n  /* Size of all wrapped checkbox */\n  size?: CheckboxProps[\"size\"];\n  /* Color of all wrapped checkbox */\n  color?: CheckboxProps[\"color\"];\n}\n\nexport const CheckboxGroup = React.forwardRef<HTMLDivElement, CheckboxGroupProps>(\n  (props, ref) => {\n    const {\n      onChange,\n      name,\n      color,\n      size,\n      defaultValue,\n      inline,\n      value: valueProp,\n      children,\n      ...rest\n    } = props;\n    const [values, setValues] = useState(defaultValue || []);\n\n    const { current: isControlled } = useRef(valueProp != null);\n    const _values = isControlled ? valueProp : values;\n\n    const _onChange = (event: React.ChangeEvent<HTMLInputElement>) => {\n      const { checked, value } = event.target;\n      let newValues;\n      if (checked) {\n        newValues = [...(_values || []), value];\n      } else {\n        newValues = (_values || []).filter((val) => val !== value);\n      }\n\n      !isControlled && setValues(newValues);\n      onChange && onChange(newValues);\n    };\n\n    // If no name is passed, we'll generate a random, unique name\n    const fallbackName = `checkbox-${useId()}`;\n    const _name = name || fallbackName;\n\n    const validChildren = getValidChildren(children);\n\n    const clones = validChildren.map((child, index) => {\n      return (\n        <div\n          key={index}\n          className={cx(\n            inline ? \"inline-block\" : \"block\",\n            child.props.className\n          )}\n        >\n          {cloneElement(child, {\n            size: size,\n            color: child.props.color || color,\n            name: `${_name}-${index}`,\n            onChange: _onChange,\n            checked: (_values || []).includes(child.props.value),\n          })}\n        </div>\n      );\n    });\n\n    return (\n      <div role=\"group\" ref={ref} {...rest}>\n        {clones}\n      </div>\n    );\n  }\n);\n\nif (__DEV__) {\n  CheckboxGroup.displayName = \"CheckboxGroup\";\n}\n"],"file":"checkbox-group.js"}